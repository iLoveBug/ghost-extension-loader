{"version":3,"file":"extension-loader.js","sources":["extension-loader.js"],"sourcesContent":["/**\n * vue-based card support\n * Used on any individual post/page       \n *\n * Detects when a vue-based card has been used and applies vue to make sure it works.\n */\n\n(function (window, document) {\n    var applyVueForCards = function () {\n        var cards = document.querySelectorAll('.kg-extension-card')\n        var scripts = {}\n        cards.forEach(function (card) {\n            var scriptUrl = card.getAttribute('script')\n            if (scripts[scriptUrl]) {\n                if (scripts[scriptUrl].loaded) {\n                    new Vue({\n                        el: card\n                    });\n                } else {\n                    scripts[scriptUrl].cards.push(card)\n                }\n            } else {\n                scripts[scriptUrl] = {\n                    loaded: false,\n                    cards: [card]\n                }\n                var script = document.createElement('script')\n                script.type = 'text/javascript'\n                script.onload = function () {\n                    scripts[scriptUrl].loaded = true;\n                    for (var cIndex in scripts[scriptUrl].cards) {\n                        new Vue({\n                            el: scripts[scriptUrl].cards[cIndex]\n                        });\n                    }\n                };\n                script.src = scriptUrl\n                document.getElementsByTagName('head')[0].appendChild(script)\n            }\n        });\n    };\n\n    var loaderStyle = document.createElement('link');\n    loaderStyle.rel = 'stylesheet';\n    loaderStyle.type = 'text/css';\n    loaderStyle.href = 'https://cdn.jsdelivr.net/npm/loaders.css@0.1.2';\n    document.getElementsByTagName('head')[0].appendChild(loaderStyle);\n\n    var loaderScript = document.createElement('script');\n    loaderScript.type = 'text/javascript';\n    loaderScript.src = 'https://cdn.jsdelivr.net/npm/loaders.css@0.1.2/loaders.css.js';\n    document.getElementsByTagName('head')[0].appendChild(loaderScript);\n\n    var vueScript = document.createElement('script');\n    vueScript.type = 'text/javascript';\n    vueScript.src = 'https://cdn.jsdelivr.net/npm/vue@2.6.10';\n    document.getElementsByTagName('head')[0].appendChild(vueScript);\n\n    document.addEventListener('DOMContentLoaded', applyVueForCards);\n})(window, document);"],"names":["document","loaderStyle","createElement","rel","type","href","getElementsByTagName","appendChild","loaderScript","src","vueScript","addEventListener","cards","querySelectorAll","scripts","forEach","card","script","scriptUrl","getAttribute","loaded","Vue","el","push","onload","cIndex","window"],"mappings":"CAOA,SAAmBA,GACf,IAkCIC,EAAcD,EAASE,cAAc,QACzCD,EAAYE,IAAM,aAClBF,EAAYG,KAAO,WACnBH,EAAYI,KAAO,iDACnBL,EAASM,qBAAqB,QAAQ,GAAGC,YAAYN,GAErD,IAAIO,EAAeR,EAASE,cAAc,UAC1CM,EAAaJ,KAAO,kBACpBI,EAAaC,IAAM,gEACnBT,EAASM,qBAAqB,QAAQ,GAAGC,YAAYC,GAErD,IAAIE,EAAYV,EAASE,cAAc,UACvCQ,EAAUN,KAAO,kBACjBM,EAAUD,IAAM,0CAChBT,EAASM,qBAAqB,QAAQ,GAAGC,YAAYG,GAErDV,EAASW,iBAAiB,mBAlDH,WACnB,IAAIC,EAAQZ,EAASa,iBAAiB,sBAClCC,EAAU,GACdF,EAAMG,QAAQ,SAAUC,GACpB,IAcQC,EAdJC,EAAYF,EAAKG,aAAa,UAC9BL,EAAQI,GACJJ,EAAQI,GAAWE,OACnB,IAAIC,IAAI,CACJC,GAAIN,IAGRF,EAAQI,GAAWN,MAAMW,KAAKP,IAGlCF,EAAQI,GAAa,CACjBE,QAAQ,EACRR,MAAO,CAACI,KAERC,EAASjB,EAASE,cAAc,WAC7BE,KAAO,kBACda,EAAOO,OAAS,WAEZ,IAAK,IAAIC,KADTX,EAAQI,GAAWE,QAAS,EACTN,EAAQI,GAAWN,MAClC,IAAIS,IAAI,CACJC,GAAIR,EAAQI,GAAWN,MAAMa,MAIzCR,EAAOR,IAAMS,EACblB,EAASM,qBAAqB,QAAQ,GAAGC,YAAYU,QA9BrE,EAoDGS,OAAQ1B"}